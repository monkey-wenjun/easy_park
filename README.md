# åœè½¦ç¥¨ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº Flask + Vue + MySQL çš„åœè½¦ç¥¨ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒåœè½¦åˆ¸çš„æ‰«æã€ç®¡ç†ã€åˆ†äº«å’Œè‡ªåŠ¨ä½¿ç”¨ã€‚

## é¡¹ç›®ç»“æ„
```
parking-system/
â”œâ”€â”€ api/ # åç«¯ API å®ç°
â”‚ â”œâ”€â”€ app.py # Flask ä¸»åº”ç”¨
â”‚ â”œâ”€â”€ auth.py # è®¤è¯ç›¸å…³
â”‚ â”œâ”€â”€ http_api.py # HTTP è¯·æ±‚å°è£…
â”‚ â”œâ”€â”€ ocr_class.py # äºŒç»´ç å¤„ç†
â”‚ â””â”€â”€ easy_park.py # åœè½¦åœºä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ config/ # é…ç½®æ–‡ä»¶
â”‚ â””â”€â”€ config.yml # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ db/ # æ•°æ®åº“ç›¸å…³æ–‡ä»¶
â”‚ â”œâ”€â”€ init.sql # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚ â””â”€â”€ mysql.cnf # MySQL é…ç½®
â”œâ”€â”€ frontend/ # å‰ç«¯æ–‡ä»¶
â”‚ â”œâ”€â”€ index.html # ä¸»é¡µé¢
â”‚ â”œâ”€â”€ login.html # ç™»å½•é¡µé¢
â”‚ â””â”€â”€ register.html # æ³¨å†Œé¡µé¢
â”œâ”€â”€ scripts/ # å·¥å…·è„šæœ¬
â”œâ”€â”€ docker compose.yml # Docker ç¼–æ’é…ç½®
â”œâ”€â”€ Dockerfile # Docker æ„å»ºæ–‡ä»¶
â”œâ”€â”€ run_api.py # åº”ç”¨å¯åŠ¨è„šæœ¬
â””â”€â”€ requirements.txt # Python ä¾èµ–
``` 

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ« åœè½¦åˆ¸ç®¡ç†ï¼šæ”¯æŒæ‰«æã€å­˜å‚¨å’Œç®¡ç†åœè½¦åˆ¸
- ğŸ“± è‡ªåŠ¨æ ¸é”€ï¼šæ”¯æŒå®šæ—¶è‡ªåŠ¨é¢†å–å’Œä½¿ç”¨åœè½¦åˆ¸
- ğŸ”„ æ‰¹é‡å¤„ç†ï¼šæ”¯æŒæ‰¹é‡ä¸Šä¼ å’Œå¤„ç†åœè½¦åˆ¸å›¾ç‰‡
- ğŸ‘¥ åˆ†äº«åŠŸèƒ½ï¼šæ”¯æŒå°†åœè½¦åˆ¸åˆ†äº«ç»™å…¶ä»–ç”¨æˆ·
- ğŸ” æŸ¥è¯¢åŠŸèƒ½ï¼šæ”¯æŒæŒ‰æ—¶é—´ã€çŠ¶æ€ç­‰æ¡ä»¶æŸ¥è¯¢åœè½¦åˆ¸
- ğŸ‘¤ ç”¨æˆ·ç®¡ç†ï¼šæ”¯æŒç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æ‰¾å›å¯†ç ç­‰åŠŸèƒ½
- ğŸ“Š æ•°æ®ç»Ÿè®¡ï¼šæä¾›åœè½¦åˆ¸ä½¿ç”¨æƒ…å†µçš„ç»Ÿè®¡ä¿¡æ¯

## ç³»ç»Ÿè¦æ±‚

- Python 3.11+
- MySQL 8.0+
- Docker & Docker Compose
- Node.js 14+ (ä»…å¼€å‘ç¯å¢ƒéœ€è¦)

## å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›® 
```
bash
git clone https://github.com/yourusername/parking-system.git
cd parking-system
```
### 3. ä½¿ç”¨ Docker Compose éƒ¨ç½²

1. æ„å»ºå¹¶å¯åŠ¨æœåŠ¡ï¼š 
```

2. åˆ›å»ºå¹¶é…ç½® `config/config.yml`ï¼š
```yaml
wechat:
  app_id: "ä½ çš„å°ç¨‹åºAPPID"
  wx_open_id: "å¾®ä¿¡OpenID"
  headers:
    User-Agent: "Mozilla/5.0..."
    # å…¶ä»–å¿…è¦çš„è¯·æ±‚å¤´
```

### 3. ä½¿ç”¨ Docker Compose éƒ¨ç½²

1. æ„å»ºå¹¶å¯åŠ¨æœåŠ¡ï¼š
```bash
docker compose up -d --build
```

2. æ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼š
```bash
docker compose ps
```

3. æŸ¥çœ‹æ—¥å¿—ï¼š
```bash
docker compose logs -f
```

### æœ¬åœ°è°ƒè¯•

1. ä¿®æ”¹ `config/config.yml` ä¸­çš„ `host` ä¸º `127.0.0.1`
2. ä¿®æ”¹ `run_api.py` ä¸­çš„ `app.run(host='0.0.0.0', port=8000, debug=False)` ä¸º `app.run(host='0.0.0.0', port=8000, debug=True)`
3. æ‰§è¡Œ python3 run_api.py

### 4. è®¿é—®ç³»ç»Ÿ

- Web ç•Œé¢ï¼š`http://localhost:8000`
- API æ–‡æ¡£ï¼š`http://localhost:8000/api/docs`

## å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘ç¯å¢ƒè®¾ç½®

1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼š
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows
```

2. å®‰è£…ä¾èµ–ï¼š
```bash
pip install -r requirements.txt
```

3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š
```bash
python run_api.py
```

### ç³»ç»Ÿç›‘æ§

1. æ£€æŸ¥ç³»ç»ŸçŠ¶æ€ï¼š
```bash
docker compose ps
```

2. ç›‘æ§èµ„æºä½¿ç”¨ï¼š
```bash
docker stats
```

### æ›´æ–°éƒ¨ç½²

1. æ‹‰å–æœ€æ–°ä»£ç ï¼š
```bash
git pull origin main
```

2. é‡æ–°æ„å»ºå¹¶å¯åŠ¨ï¼š
```bash
docker compose down
docker compose up -d --build
```

## å¸¸è§é—®é¢˜

1. **Q: å®¹å™¨å¯åŠ¨å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
   A: æ£€æŸ¥æ—¥å¿— `docker compose logs`ï¼Œç¡®è®¤é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®ã€‚

2. **Q: å¦‚ä½•ä¿®æ”¹ç«¯å£å·ï¼Ÿ**
   A: ä¿®æ”¹ `docker compose.yml` ä¸­çš„ç«¯å£æ˜ å°„ã€‚

3. **Q: æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Ÿ**
   A: æ£€æŸ¥ MySQL å®¹å™¨çŠ¶æ€å’Œé…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯ã€‚

## å®‰å…¨æ³¨æ„äº‹é¡¹

1. ç¡®ä¿ä¿®æ”¹é»˜è®¤çš„æ•°æ®åº“å¯†ç 
2. å®šæœŸæ›´æ–°ç³»ç»Ÿå’Œä¾èµ–åŒ…
3. åŠæ—¶å¤‡ä»½é‡è¦æ•°æ®
4. ä½¿ç”¨ HTTPS è¿›è¡Œå®‰å…¨ä¼ è¾“
5. å®šæœŸæ£€æŸ¥ç³»ç»Ÿæ—¥å¿—

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

- ä½œè€…ï¼šé˜¿æ–‡
- Emailï¼šhsweib@gmail.com
- é¡¹ç›®åœ°å€ï¼š[GitHub ä»“åº“åœ°å€](https://github.com/monkey-wenjun/easy_park)